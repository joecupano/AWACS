# Kismet site configuration file
# This file contains device-specific configurations for multiple hardware sources
# Place this file at /etc/kismet/kismet_site.conf

# Server configuration
server_name=KismetMultiDevice
server_description=Multi-device Kismet server with GPS, WiFi, Bluetooth, and SDR

# Web interface configuration
httpd_bind_address=0.0.0.0
httpd_port=2501
httpd_username=admin
# Generate password hash with: kismet --hash-password
# httpd_password_hash=

# Logging configuration
log_prefix=/var/log/kismet/
log_title=true

# ==============================================================================
# GPS CONFIGURATION - USB GPS Device
# ==============================================================================

# GPS via USB serial device (most USB GPS dongles)
gps=serial:device=/dev/ttyUSB0,name=USBGPS
# Alternative paths to try if /dev/ttyUSB0 doesn't work:
# gps=serial:device=/dev/ttyACM0,name=USBGPS
# gps=serial:device=/dev/serial/by-id/usb-*GPS*,name=USBGPS

# GPS options
gps_reconnect=true
gps_timeout=30

# ==============================================================================
# WIFI CONFIGURATION - Alfa USB WiFi Adapters
# ==============================================================================

# Primary Alfa USB WiFi adapter (2.4GHz monitoring)
# Common Alfa models: AWUS036ACS, AWUS036AC, AWUS1900
source=wlan0:name=Alfa_2.4GHz,uuid=alfa-24ghz-001,info_antenna_type=omni,info_antenna_gain=5

# Secondary Alfa USB WiFi adapter (5GHz monitoring)
# For dual-band operation
source=wlan1:name=Alfa_5GHz,uuid=alfa-5ghz-001,info_antenna_type=omni,info_antenna_gain=5

# Channel hopping configuration for WiFi
channel_hop=true
channel_hop_speed=5
channel_hop_dwell=10

# 2.4GHz channels to hop (1-14)
source_hop_2_4=1,6,11,2,7,3,8,4,9,5,10,12,13,14

# 5GHz channels to hop
source_hop_5_0=36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140,149,153,157,161,165

# ==============================================================================
# BLUETOOTH CONFIGURATION - Ubertooth
# ==============================================================================

# Ubertooth One for Bluetooth LE and Classic monitoring
source=ubertooth:name=Ubertooth_BT,uuid=ubertooth-001,info_antenna_type=omni

# Ubertooth specific options
ubertooth_hop=true
ubertooth_hop_interval=1

# ==============================================================================
# SDR CONFIGURATION - HackRF and RTL-SDR
# ==============================================================================

# HackRF One for wide spectrum analysis
source=hackrf:name=HackRF_SDR,uuid=hackrf-001,info_antenna_type=omni,info_antenna_gain=0

# HackRF frequency range and step configuration
# Monitor ISM bands, WiFi, and other common frequencies
hackrf_freq_min=2400000000
hackrf_freq_max=2500000000
hackrf_freq_step=100000
hackrf_gain=20
hackrf_amp=false

# RTL-SDR dongle for specific frequency monitoring
source=rtlsdr:name=RTLSDR_Monitor,uuid=rtlsdr-001,info_antenna_type=omni,info_antenna_gain=0

# RTL-SDR configuration
# Monitor 433MHz ISM band
rtlsdr_freq=433920000
rtlsdr_gain=40
rtlsdr_ppm=0

# Additional RTL-SDR for different frequency
# Uncomment if you have multiple RTL-SDR dongles
# source=rtlsdr:device=1,name=RTLSDR_315MHz,uuid=rtlsdr-002,info_antenna_type=omni
# rtlsdr_freq_1=315000000
# rtlsdr_gain_1=40

# ==============================================================================
# ADVANCED DEVICE CONFIGURATIONS
# ==============================================================================

# Device timeout and retry settings
source_timeout=10
source_retry=true
source_retry_attempts=5

# Memory and performance tuning
packet_backlog_warning=5000
packet_backlog_limit=10000
max_clients=10

# ==============================================================================
# FILTERING AND ALERTING
# ==============================================================================

# Filter configuration
filter_tracker=true
filter_export=false

# Device filtering - track only active devices
device_timeout=300
device_idle_expiration=600

# Alert configuration
alert_backlog=50

# Common alerts for multi-device setup
alert=DEVICEFOUND,5/min,Device Found
alert=CRYPTODROP,10/min,Crypto Drop
alert=DISCONCODEINVALID,10/min,Invalid Disconnect Code
alert=DEAUTHFLOOD,10/sec,Deauth Flood
alert=BCASTDISCON,3/min,Broadcast Disconnect

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================

# Client connections
tcp_port=2501
max_tcp_clients=5

# Remote capture (if needed)
# remote_capture_listen=0.0.0.0:3501
# remote_capture_timestamp=true

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Enable comprehensive logging
log_types=pcapfile,xmlfile,netxmlfile,csvfile,jsonfile
log_template=%p-%D-%t-%i.%l

# Pcap logging
pcap_log_enable=true
pcap_log_size_limit=1000M

# Database logging
database_log_enable=true
database_log_file=%p-%D.kismet

# ==============================================================================
# WEB INTERFACE PLUGINS
# ==============================================================================

# Enable various plugins for enhanced functionality
plugin_enable=autowep
plugin_enable=spectools
plugin_enable=syslog

# ==============================================================================
# DEVICE-SPECIFIC OPTIMIZATIONS
# ==============================================================================

# USB device power management (prevents devices from sleeping)
usb_power_reset=false
usb_reset_on_error=true

# Buffer sizes for high-throughput devices
linux_netlink_recv_buf_size=8388608
pcap_buffer_size=2097152

# Thread configuration for multi-device setups
thread_pool_workers=4

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================

# Restrict web interface access (uncomment and configure as needed)
# httpd_allowed_hosts=127.0.0.1,192.168.1.0/24

# SSL configuration (uncomment to enable HTTPS)
# httpd_ssl=true
# httpd_ssl_cert=/etc/kismet/ssl/kismet.pem
# httpd_ssl_key=/etc/kismet/ssl/kismet.key

# ==============================================================================
# TROUBLESHOOTING OPTIONS
# ==============================================================================

# Debug levels (uncomment for troubleshooting)
# debug=datasource,packetsource,packet,gps
# verbose=true

# Device-specific debug options
# debug_ubertooth=true
# debug_hackrf=true
# debug_rtlsdr=true

# Dump unknown packets for analysis
# dump_unknown_packets=true
# dump_packet_file=/tmp/kismet_unknown.dump